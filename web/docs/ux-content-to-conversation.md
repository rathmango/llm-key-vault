# UX/UI Spec — “추천 콘텐츠(YouTube) → 클릭 → 대화” (Mobile‑first)

> 목적: 사용자가 “질문을 스스로 만들기 어려운” 상황에서도, **콘텐츠를 먼저 제시**해서 자연스럽게 대화를 시작하고,
> 클릭 한 번으로 **정확한 컨텍스트(전문/타임스탬프/요약)** 기반 Q&A가 가능하게 한다.

## 1) 사용자/상황(핵심 페르소나)

- **주 사용자**: 모바일에서 주로 사용하는 비전문 사용자
- **니즈**
  - 경제/뉴스를 자주 소비(YouTube 포함)
  - 임신/출산/육아 관련 정보 탐색(2주 내 출산)
  - “무엇을 물어봐야 할지”부터 막히는 편 → **대화 스타터가 필요**
  - 인스타 릴스 제작 도움(아이디어/구성/스크립트)도 받고 싶음

## 2) 성공 지표(UX 관점)

- **TTV(Time to Value)**: 앱 진입 후 10초 내 “눌러볼 것”이 보인다
- **첫 상호작용**: 홈 진입 후 30초 내 영상 1개 클릭/URL 1개 붙여넣기 유도
- **대화 전환율**: 영상 컨텍스트 로드 후 질문 1개 이상 발생
- **재방문/세션 재개**: 이전 영상 대화를 다시 열어 이어가기(컨텍스트 지속)

## 3) 정보 구조(IA) 제안 (LilysAI에서 영감)

LilysAI의 핵심 패턴은 “**대화를 하기 전에** 지식을 넣는(ingest) 진입점”이 명확하다는 점이다:

- 가운데: **큰 검색창 + Paste/Upload/Record** 같은 “소스 추가” 카드
- 아래: 관심 카테고리 칩(예: Finance/Investing, Creator…)
- 왼쪽: Recent / My knowledge(컬렉션)

이를 우리 앱에 맞게 재구성하면:

### 3.1 추가 탭: **Home(지식/추천)** + (선택) Search

- **Home**: “Paste(YouTube URL) / Upload / Live Record / Open existing” + 카테고리 칩 + 추천 주제/추천 소스
- **Chat**: 기존 세션 기반 자유 대화 + (활성 컨텍스트가 붙은) 소스 기반 대화
- **API Key**: 기존 그대로

> Search(전역 검색)는 2차 릴리즈로 넣어도 되고, MVP에서는 Home + Chat만으로도 충분히 Lilys 느낌이 난다.

## 4) 핵심 플로우

### 플로우 A: 추천 영상으로 대화 시작

1. 사용자가 Feed 진입
2. “오늘의 추천” 섹션에서 영상 카드(썸네일/제목/채널/짧은 이유)를 봄
3. 카드 클릭 → **컨텍스트 생성(분석)** 시작
4. 완료되면:
   - 요약(3~7줄)
   - “이 영상으로 대화 시작” CTA
   - “전문(타임스탬프)” 보기(접힘)
5. CTA 누르면 Chat으로 이동(혹은 Feed 내에서 바로 인라인 채팅 시작)
6. 사용자는 제안된 질문 버튼(칩)을 누르거나 직접 입력

### 플로우 B: YouTube URL 붙여넣기 → 대화 (Home에서)

1. Home의 Paste 영역에 URL 입력(또는 붙여넣기 감지)
2. URL 확인되면 즉시 **프리뷰 카드**(제목/썸네일/채널) 표시
3. “분석하기” 버튼(기본 자동 실행도 가능)
4. 이후 A 플로우의 4~6 동일

### 플로우 D: “채팅 중” YouTube URL 투입 → 소스 모드로 전환

1. 사용자가 Chat 입력창에 YouTube URL을 붙여넣어 전송
2. 시스템이 URL을 감지 → “이 링크로 소스 컨텍스트를 만들까요?” 또는 자동 분석 시작(설정 가능)
3. 분석 완료 후:
   - 채팅 상단에 `📺 … · 컨텍스트 ON` 배지(Chip) 표시
   - 추천 질문 칩 3개 표시
   - 이후 질문/대답은 “영상 기반”으로 진행(필요 시 타임스탬프 근거 제공)

### 플로우 C: 이전 세션 재개(로그아웃/재로그인 포함)

1. Chat 세션 목록에서 “📺 아이콘” 또는 “컨텍스트 칩”으로 영상 세션 표시
2. 세션 클릭 시:
   - 메시지 로드(페이지네이션 유지)
   - 영상 컨텍스트(요약/전문/타임스탬프 링크) 복원
3. 그대로 질문/대화 이어가기

## 5) 화면 구성(모바일 기준)

### 5.1 Home 화면 (Lilys 스타일)

상단:
- 큰 제목(예: “지식을 똑똑하게 이해하기”)
- **검색/주제 입력창**: “주제를 입력하면 대화/자료를 추천해요”

가운데 액션 카드(빠른 인제스트):
- **Paste**: YouTube / Web / Text (MVP는 YouTube URL 우선)
- **Upload**: Video / Audio / PDF (MVP는 “영상/오디오”부터)
- **Live Record**: (후순위, UI만 자리)
- **Open existing**: 기존 소스/대화 열기(=Recent)

하단:
- **카테고리 칩**: All / Finance / Parenting / Creator / IT …
- 선택된 카테고리에 따라 “추천 주제(대화 스타터)” 카드가 바뀜

### 5.2 Feed 화면(선택)

상단:
- **검색/입력**: `YouTube URL 붙여넣기…`
- 붙여넣기 감지 시:
  - “URL 감지됨 → 프리뷰 생성 중…” (스켈레톤)

섹션:
- **오늘의 경제 추천** (3~5개)
- **임신/출산/육아** (3개)
- (향후) **릴스 아이디어** (3개)

각 카드:
- 썸네일(16:9)
- 제목(2줄까지)
- 채널명 + 상대시간/조회수(옵션)
- “왜 추천?” 1줄(예: “금리/부동산 언급이 많아요”)

상태:
- 로딩: skeleton card
- 실패: “추천을 불러오지 못했어요” + 재시도

### 5.2 Video Context 화면(또는 Bottom Sheet)

분석 상태:
- 상단에 진행률/상태 텍스트
  - “요약 생성 중…”
  - “전문/타임스탬프 정리 중…”

완료 상태:
- **요약 카드**
- **질문 칩 3개**(대화 스타터)
  - 예: “핵심 주장 3줄로?”, “금리 전망만”, “부동산 영향”
- CTA:
  - Primary: “이 영상으로 대화 시작”
  - Secondary: “전문 보기”

전문 보기(접힘 → 펼침):
- 타임스탬프 리스트 (예: `02:15 …`)
- 각 항목은 “YouTube에서 해당 시점 보기” 링크 제공

### 5.3 Chat 화면(컨텍스트 표시)

헤더(또는 메시지 상단):
- **Active Context Chip**: `📺 한국은행 금리 전망 · 컨텍스트 ON`
- `X` 버튼: 컨텍스트 해제(일반 대화로 전환)
- `…` 메뉴: “요약 보기 / 전문 보기 / 원문 YouTube 열기”

입력창 위:
- **추천 질문 칩**(최대 3개, 한 번 클릭으로 전송)
- “도움이 필요해요” 버튼(누르면 질문 생성 모달)

## 6) “완벽한 컨텍스트”를 UX로 보장하는 장치

기술적으로 컨텍스트가 완벽하더라도, 사용자가 “믿을 수 있어야” 한다.

- **근거/탐색 가능성**
  - 답변 옆에 “타임스탬프” 제공(가능 시)
  - 전문 리스트에서 해당 구간 확인 가능
- **상태 투명성**
  - “요약은 완료 / 전문은 생성 중”처럼 부분 완료 표시
- **실패 폴백**
  - 전문 생성 실패 시: “요약+메타데이터” 기반으로 대화는 계속 가능(단, ‘영상 전문 기반’ 뱃지는 제거)

## 7) 접근성/가독성(필수)

- 터치 타겟 44px 이상
- 다크모드 대비(현재 테마 유지)
- 스크린리더:
  - 버튼/링크 레이블 명확히 (`aria-label`)
  - “전문 펼치기”는 확장/축소 상태를 전달(`aria-expanded`)
- 긴 텍스트:
  - 요약은 기본 접힘(“더보기”)
  - 전문은 페이지네이션/가상화 고려(현재 메시지 쪽은 페이지네이션 + 접기 구현됨)

## 8) 정책/프라이버시 문구(최소)

- “YouTube 링크/콘텐츠가 AI 모델로 전송될 수 있음”을 **분석 시작 전에 1회 안내** (다시 보지 않기 옵션)
- 사용자가 원하면 “전문 저장/삭제” 가능(세션 단위)

## 9) MVP 범위(첫 릴리즈)

- Feed 탭 + 추천 카드(경제 3개)
- YouTube URL 붙여넣기 → 프리뷰 → 분석 → 대화 시작
- Chat에 컨텍스트 칩 표시 + 요약/전문 보기
- 세션 재개 시 컨텍스트 복원

> 구현/스키마/모델 논의는 위 UX를 만족시키는 방향으로 결정한다.


